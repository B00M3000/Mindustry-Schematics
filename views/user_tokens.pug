doctype html
html(lang="en")
  head
    include includes/head

    link(rel='stylesheet' href='/css/core.css' type='text/css')
    link(rel='stylesheet' href='/css/user_tokens.css' type='text/css')

    title User Tokens
  body
    include mixins/app_bar
    +app_bar("user")
    
    h2 User Tokens
    
    form#template.userForms(action=`/user/{token}` method="POST" style="display: none;")
      button(class="delete" type="button" onclick=`deleteToken(this.parentElement)`) Delete
      input(type="text" name="username")
      input(type="text" name="token" readonly)
      select(name="access")
        option(value="admin") Admin
        option(value="mod" selected) Mod
      button(class="regenerate" type="button" onclick=`regenerateToken(this.parentElement)`) Regenerate Token
      button(type="submit") Save
    
    ul.users
      for u in users
        li
          form.userForms(action=`/user/${u.token}` method="POST" id=`form-${u.token}`)
            button(class="delete" type="button" onclick=`deleteToken(this.parentElement)`) Delete
            input(type="text" name="username" value=u.username)
            input(id=u.token type="text" name="token" value=u.token readonly)
            select(name="access")
              if u.access == "admin"
                option(value="admin" selected) Admin
              else
                option(value="admin") Admin
              if u.access == "mod"
                option(value="mod" selected) Mod
              else
                option(value="mod") Mod
            button(class="regenerate" type="button" onclick=`regenerateToken(this.parentElement)`) Regenerate Token
            button(type="submit") Save
    button(class="create" type="button" onclick=`createToken()`) Create User Token
    footer
      a(href="/user")
        div.notched.btn
          button.icon_text.back
            img(src="/assets/arrow.svg")
            span Back 

    script(src="/js/login.js")